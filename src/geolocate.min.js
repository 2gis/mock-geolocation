!function(e,t){function o(){var t=e.geolocate;i.noConflict=function(){return void 0!==t?e.geolocate=t:delete e.geolocate,i},e.geolocate=i}var n,i={},r=0,a={accuracy:50,altitude:null,altitudeAccuracy:null,heading:null,latitude:54.9799,longitude:82.89683699999999,speed:null},c={code:1,message:"The acquisition of the geolocation information failed because the page didn't have the permission to do it."},u={},f={},d=function(e){if(Object.defineProperty)Object.defineProperty(t,"geolocation",{get:function(){return e}});else{if(!t.__defineGetter__)throw new Error("Cannot change navigator.geolocation method");t.__defineGetter__("geolocation",function(){return e})}};i.use=function(){return n=t.geolocation,d({getCurrentPosition:function(){r++,u[r]=arguments},watchPosition:function(){return r++,u[r]=arguments,f[r]=arguments,r},clearWatch:function(e){f[e]&&(delete f[e],u[e]&&delete u[e])}}),this},i.restore=function(){return n?d(n):delete t.geolocation,u={},f={},this};var l=function(e){e=e||{};var t,o={coords:{}};for(t in a)e.hasOwnProperty(t)&&(a[t]=e[t]);void 0!==e.lat&&(a.latitude=e.lat),void 0!==e.lng&&(a.longitude=e.lng);for(t in a)o.coords[t]=a[t];return o.timestamp=void 0!==e.timestamp?e.timestamp:Date.now(),o},s=function(e){e=e||{};var t={};return t.code=void 0!==e.code?e.code:c.code,t.message=void 0!==e.message?e.message:c.message,t};i.send=function(e){for(var t in u)"function"==typeof u[t][0]&&u[t][0](l(e));return u={},console.log(a),this},i.sendError=function(){for(var e in u)"function"==typeof u[e][1]&&u[e][1](s(options));return u={},this},i.change=function(e){for(var t in f)"function"==typeof f[t][0]&&f[t][0](l(e)),u[t]&&delete u[t];return console.log(a),this},i.changeError=function(e){for(var t in f)"function"==typeof f[t][1]&&f[t][1](s(e)),u[t]&&delete u[t];return this},"object"==typeof module&&"object"==typeof module.exports?module.exports=i:"function"==typeof define&&define.amd?define(i):"undefined"!=typeof e&&o()}(window,navigator);