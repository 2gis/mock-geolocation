!function(e,t){var n,o={},i=0,r={accuracy:50,altitude:null,altitudeAccuracy:null,heading:null,latitude:54.9799,longitude:82.89683699999999,speed:null},a={code:1,message:"The acquisition of the geolocation information failed because the page didn't have the permission to do it."},c=[],u={},f=e.geolocate,s=function(e){if(Object.defineProperty)Object.defineProperty(t,"geolocation",{get:function(){return e}});else{if(!t.__defineGetter__)throw new Error("Cannot change navigator.geolocation method");t.__defineGetter__("geolocation",function(){return e})}};o.use=function(){return n=t.geolocation,s({getCurrentPosition:function(){c.push(arguments)},watchPosition:function(){return c.push(arguments),i++,u[i]=arguments,i},clearWatch:function(e){u[e]&&delete u[e]}}),this},o.restore=function(){return n?s(n):delete t.geolocation,c=[],u={},this};var l=function(e){e=e||{};var t,n={coords:{}};for(t in r)e.hasOwnProperty(t)&&(r[t]=e[t]);void 0!==e.lat&&(r.latitude=e.lat),void 0!==e.lng&&(r.longitude=e.lng);for(t in r)n.coords[t]=r[t];return n.timestamp=void 0!==e.timestamp?e.timestamp:Date.now(),n},d=function(e){e=e||{};var t={};return t.code=void 0!==e.code?e.code:a.code,t.message=void 0!==e.message?e.message:a.message,t};o.send=function(e){var t,n=c.length;if(0!==n){for(t=0;n>t;t++)"function"==typeof c[t][0]&&c[t][0](l(e));return c=[],this}},o.sendError=function(){var e,t=c.length;if(0!==t){for(e=0;t>e;e++)"function"==typeof c[e][1]&&c[e][1](d(options));return c=[],this}},o.change=function(e){for(var t in u)"function"==typeof u[t][0]&&u[t][0](l(e));return this},o.changeError=function(e){for(var t in u)"function"==typeof u[t][1]&&u[t][1](d(e));return this},o.noConflict=function(){return void 0!==f?e.geolocate=f:delete e.geolocate,o},e.geolocate=o}(window,navigator);